import{_ as b,L as y,e as C,r as l,o,c as a,b as c,a as t,s as _,F as u,A as m,z as p,B as g,C as P}from"./index-UaBsPtZV.js";import{a as w}from"./axios-L6U4YIEh.js";import{c as k}from"./cartStore-Kvj5j6H9.js";import{P as V}from"./PaginationComponent-RZ82A6UM.js";var L={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_API:"potoro",BASE_URL:"/VueMission1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:E,VITE_API:T}=L,A={components:{Loading:y,pagC:V},data(){return{isLoading:!0,products:[],categories:["Comic","History","Young Adult","Drama","Novel","Sci-Fi","Murder","TextBook"],pages:{}}},watch:{"$route.query":{handler(){this.getProduct()},deep:!0}},methods:{...C(k,["addToCart"]),getProduct(n=1){const{categories:i=""}=this.$route.query,h=`${E}/api/${T}/products?page=${n}&category=${i}`;w.get(h).then(r=>{this.products=r.data.products,this.pages=r.data.pagination,this.isLoading=!1})}},mounted(){this.getProduct()}},$={class:"container mt-5"},B={class:"row"},D={class:"col-md-3"},I={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},S={class:"card-body py-0"},M=t("h2",null,"Categories",-1),N={class:"list-unstyled"},R={class:"col-md-8"},U={class:"row"},O={class:"card mb-3 w-100 d-flex flex-column"},F=["src"],q={class:"card-body d-flex flex-column"},j={class:"card-title"},z={class:"card-text flex-grow-1"},H={class:"mt-2 mb-2"},Y=["onClick"];function G(n,i,h,r,s,f){const v=l("loading"),d=l("router-link"),x=l("pagC");return o(),a(u,null,[c(v,{active:s.isLoading,"onUpdate:active":i[0]||(i[0]=e=>s.isLoading=e)},null,8,["active"]),t("div",$,[t("div",B,[t("div",D,[t("div",I,[t("div",S,[M,t("ul",N,[t("li",null,[c(d,{class:"py-2 d-block text-muted",to:"/products"},{default:_(()=>[p("All")]),_:1})]),(o(!0),a(u,null,m(s.categories,e=>(o(),a("li",{key:e},[c(d,{class:"py-2 d-block text-muted",to:`/products?categories=${e}`},{default:_(()=>[p(g(e),1)]),_:2},1032,["to"])]))),128))])])])]),t("div",R,[t("div",U,[(o(!0),a(u,null,m(s.products,e=>(o(),a("div",{class:"col-md-4 d-flex align-items-stretch",key:e.id},[t("div",O,[t("img",{style:{"object-fit":"cover"},src:e.imageUrl,class:"card-img-top",alt:"產品圖片"},null,8,F),t("div",q,[t("h5",j,g(e.title),1),t("p",z,"NTD $"+g(e.price),1),t("div",H,[c(d,{to:`/product/${e.id}`,class:"btn btn-outline-secondary w-50 gx-3"},{default:_(()=>[p("View More")]),_:2},1032,["to"]),t("a",{onClick:P(J=>n.addToCart(e.id),["prevent"]),href:"#",class:"btn btn-outline-info w-50 gx-3"},"Add to Cart",8,Y)])])])]))),128))]),c(x,{pages:s.pages,getProduct:f.getProduct,basePath:"#/"},null,8,["pages","getProduct"])])])])],64)}const Z=b(A,[["render",G]]);export{Z as default};
